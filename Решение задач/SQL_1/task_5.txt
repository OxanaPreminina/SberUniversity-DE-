/*
5. Убытки авиакомпании[2]
Необходимо найти недополученную из-за отмены рейсов выручку авиакомпании за период времени с 17 августа 2017 00:00:00 до 23 августа 2017 00:00:00 включительно.

Примечание:
Под выручкой понимается сумма стоимостей перелета для всех отмененных рейсов. Например, если отменен единственный рейс с flight_id 13, а в таблице перелетов нашлось 30 вхождений, соответствующих данному рейсу, причем каждый перелет имеет amount равный 5000, то недополученная выручка авиакомпании равна 5000 * 30 = 150000.

Формат вывода:
lost_profit */


SELECT
	SUM(name.amount) AS lost_profit
FROM (
	SELECT * 
	FROM ticket_flights t1
	INNER JOIN flights t2
		ON t1.flight_id = t2.flight_id
	WHERE t2.status = 'Cancelled'
		AND t2.scheduled_departure BETWEEN '2017-08-17 00:00:00' AND '2017-08-23 00:00:00'
	) AS name

